serenity {
    project.name = "Dheo Claveria Automation Testing"
;     take.screenshots = FOR_FAILURES   # take screenshots on failures only
    take.screenshots = FOR_EACH_ACTION
    console.colors = true
    logging = VERBOSE
    browser.maximized = true
}

# Default configuration
webdriver {
  driver = chrome          # default browser if no environment is passed
}

drivers {
  windows {
    webdriver.chrome.driver = src/test/resources/webdriver/windows/chromedriver.exe
    webdriver.edge.driver = src/test/resources/webdriver/windows/msedgedriver.exe
    webdriver.geckodriver.driver = src/test/resources/webdriver/windows/geckodriver.exe
  }
  mac {
    webdriver.chrome.driver = src/test/resources/webdriver/mac/chromedriver.exe
    webdriver.edge.driver = src/test/resources/webdriver/mac/msedgedriver.exe
    webdriver.geckodriver.driver = src/test/resources/webdriver/mac/geckodriver.exe
  }
  linux {
    webdriver.chrome.driver = src/test/resources/webdriver/linux/chromedriver.exe
    webdriver.edge.driver = src/test/resources/webdriver/linux/msedgedriver.exe
    webdriver.geckodriver.driver = src/test/resources/webdriver/linux/geckodriver.exe
  }
}

headless.mode = false

environments {
  chrome {
    webdriver.driver = chrome
    webdriver {
      driver = chrome
      headless.mode = false
      autodownload = true
      timeouts {
        implicit = 10000
        script = 10000
        pageLoad = 10000
        }
        pageLoadStrategy = "normal"
        acceptInsecureCerts = true
        unhandledPromptBehavior = "dismiss"
      capabilities {
        browserName = "chrome"
        acceptInsecureCerts = true
         "goog:chromeOptions" {
             args = ["remote-allow-origins=*","test-type", "no-sandbox", "ignore-certificate-errors","start-maximized",
               "disable-infobars", "disable-gpu", "disable-default-apps", "disable-popup-blocking", "disable-popup-blocking",
               "disable-dev-shm-usage", "disable-extensions", "disable-web-security", "disable-translate", "disable-logging",
               "incognito"],

             prefs {
               			download.default_directory=${user.dir}"\\src\\test\\resources\\webdriver\\windows"
               			download.prompt_for_download = false
               			safebrowsing.enabled=false
               		}
         }
      }
    }
  }
  edge {
    webdriver.driver = edge
    webdriver {
      driver = edge
      headless.mode = false
      autodownload = false
      timeouts {
       implicit = 10000
       script = 10000
       pageLoad = 10000
      }
      capabilities {
        browserName = "MicrosoftEdge"
        "ms:edgeOptions" {
          args = ["test-type", "ignore-certificate-errors", "start-maximized", "inprivate",  "incognito", "disable-infobars", "disable-gpu", "disable-default-apps", "disable-popup-blocking"]
        }
      }
    }
  }
  firefox {
    webdriver.driver = firefox
    webdriver {
    driver = firefox
    headless.mode = false
    autodownload = true
     timeouts {
       implicit = 10000
       script = 10000
       pageLoad = 10000
      }
      capabilities {
        browserName = "firefox"
        pageLoadStrategy = "normal"
        acceptInsecureCerts = true
        unhandledPromptBehavior = "dismiss"
        strictFileInteractability = true

        "moz:firefoxOptions" {
           args = ["-private", "--start-maximized"]
          prefs {
            "javascript.options.showInConsole": false
          },
          log {"level": "info"},
        }
      }
    }
  }
}

pages {
  balsamhill = "https://www.balsamhill.com/"
  otherURLIntheFuture =  "https://google.com/"
}
